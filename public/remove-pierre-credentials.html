<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Remove Pierre Credentials</title>
  <style>
    body {
      font-family: monospace;
      padding: 20px;
      background: #1a1a1a;
      color: #00ff00;
    }
    h1 { color: #00ffff; }
    .step { margin: 20px 0; padding: 10px; border: 1px solid #333; }
    .success { color: #00ff00; }
    .error { color: #ff0000; }
    pre { background: #000; padding: 10px; overflow-x: auto; }
  </style>
</head>
<body>
  <h1>ğŸ”’ Remove Pierre Credentials from CareXPS</h1>
  <div id="output"></div>

  <script>
    const output = document.getElementById('output');

    function log(message, type = 'info') {
      const div = document.createElement('div');
      div.className = `step ${type}`;
      div.innerHTML = message;
      output.appendChild(div);
    }

    function removePierreCredentials() {
      log('ğŸš€ Starting credential cleanup...', 'info');

      let keysRemoved = 0;

      // Find all keys related to pierre@phaetonai.com
      for (let i = localStorage.length - 1; i >= 0; i--) {
        const key = localStorage.key(i);
        if (key && key.toLowerCase().includes('pierre')) {
          log(`ğŸ—‘ï¸  Removing: "${key}"`, 'success');
          localStorage.removeItem(key);
          keysRemoved++;
        }
      }

      // Also check for any credentials containing pierre email
      for (let i = localStorage.length - 1; i >= 0; i--) {
        const key = localStorage.key(i);
        if (key && key.startsWith('userCredentials_')) {
          try {
            const data = localStorage.getItem(key);
            if (data && data.includes('pierre@phaetonai.com')) {
              log(`ğŸ—‘ï¸  Removing credentials: "${key}"`, 'success');
              localStorage.removeItem(key);
              keysRemoved++;
            }
          } catch (e) {
            // Ignore parse errors
          }
        }
      }

      if (keysRemoved === 0) {
        log('âœ… No Pierre credentials found (already clean)', 'success');
      } else {
        log(`âœ… Removed ${keysRemoved} credential entries`, 'success');
      }

      log('\\nğŸ“‹ <strong>NEXT STEP:</strong>', 'info');
      log('Try logging in with pierre@phaetonai.com credentials', 'info');
      log('You should get an error: "Invalid credentials"', 'info');
    }

    removePierreCredentials();
  </script>
</body>
</html>
