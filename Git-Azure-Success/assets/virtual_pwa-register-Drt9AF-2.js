var e=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{l(n.next(e))}catch(t){i(t)}},s=e=>{try{l(n.throw(e))}catch(t){i(t)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,s);l((n=n.apply(e,t)).next())});import{_ as t}from"./auth-D7jcBZ_O.js";import"./vendor-Boaau3YS.js";function n(n={}){const{immediate:r=!1,onNeedRefresh:i,onOfflineReady:o,onRegistered:s,onRegisteredSW:l,onRegisterError:a}=n;let d,c;return c=function(){return e(this,null,function*(){if("serviceWorker"in navigator){if(d=yield t(()=>e(this,null,function*(){const{Workbox:e}=yield import("./workbox-window.prod.es5-DMXp7Fa7.js");return{Workbox:e}}),[]).then(({Workbox:e})=>new e("/sw.js",{scope:"/",type:"classic"})).catch(e=>{null==a||a(e)}),!d)return;d.addEventListener("activated",e=>{(e.isUpdate||e.isExternal)&&window.location.reload()}),d.addEventListener("installed",e=>{e.isUpdate||null==o||o()}),d.register({immediate:r}).then(e=>{l?l("/sw.js",e):null==s||s(e)}).catch(e=>{null==a||a(e)})}})}(),(t=!0)=>e(this,null,function*(){yield c})}export{n as registerSW};
